# Aula 05-11-2025

O único cara que não pode cair: banco de dados. Se cair derruba tudo.

O frontend até dá pra escalar e botar em outras máquinas.

Sempre que você tem um ponto único de falha, você tem um alto acoplamento.

A AWS sugere usar um loadbalancer:
1. A requisição cai no load balancer, ele checa a saúde das máquinas, e entrega requisições para as máquinas que estão saudáveis
2. Ai eu preciso de uma outra tecnologia pra substituir as máquinas que estão bixadas

Quebrar a aplicação em microserviços ajuda na disponibilidade.

Utilizar uma arquitetura mais orientada para eventos também.

## Amazon SQS -> Simple Queue Service

Tem um Produtor e um Consumidor. A ideia é 1 pra 1 (point-to-point) pq a mensagem que um produz um vai consumir.

A AWS nasceu com o SQS. A ideia dele é desacoplamento temporal.

As mensagens só podem ter 256kb -> se tiver maior grava no S3 e ai manda o endereço dele na mensagem

Tem dois tipos de fila:
- Standart = Não garante ordem, não garante entrega única, não tem limite por segundo
- FIFO = Garante entrega única, ordem e entrega única mas só suporta 3 mil mensagens por segundo

Depois de umas tentativas vai pra dead letter queue

Dá pra separar a fila entre clients pago e gratuíto

Producer-consumer
One to one
Pull (active)

## Amazon SNS -> Simple Notification Service

12 milhões de mensagens por segundo
Dá pra mandar email, sms, http
É bom pra Fan-out
Tópico não guarda mensagem - A fila guarda, tem retry, timeout, etc

Publisher-Sub
One to Many
Push (passive)

# Atividade Guided Lab

